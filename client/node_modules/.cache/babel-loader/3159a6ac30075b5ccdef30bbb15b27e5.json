{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar interfaceDatastore = require('interface-datastore');\n\nvar keytransform = require('./keytransform.js');\n\nclass NamespaceDatastore extends keytransform.KeyTransformDatastore {\n  constructor(child, prefix) {\n    super(child, {\n      convert(key) {\n        return prefix.child(key);\n      },\n\n      invert(key) {\n        if (prefix.toString() === '/') {\n          return key;\n        }\n\n        if (!prefix.isAncestorOf(key)) {\n          throw new Error(`Expected prefix: (${prefix.toString()}) in key: ${key.toString()}`);\n        }\n\n        return new interfaceDatastore.Key(key.toString().slice(prefix.toString().length), false);\n      }\n\n    });\n  }\n\n}\n\nexports.NamespaceDatastore = NamespaceDatastore;","map":{"version":3,"sources":["/Users/emilsharafutdinov/Desktop/Work/SR3/Wrdl3/client/node_modules/datastore-core/cjs/src/namespace.js"],"names":["Object","defineProperty","exports","value","interfaceDatastore","require","keytransform","NamespaceDatastore","KeyTransformDatastore","constructor","child","prefix","convert","key","invert","toString","isAncestorOf","Error","Key","slice","length"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AAEA,IAAIC,kBAAkB,GAAGC,OAAO,CAAC,qBAAD,CAAhC;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,mBAAD,CAA1B;;AAEA,MAAME,kBAAN,SAAiCD,YAAY,CAACE,qBAA9C,CAAoE;AAClEC,EAAAA,WAAW,CAACC,KAAD,EAAQC,MAAR,EAAgB;AACzB,UAAMD,KAAN,EAAa;AACXE,MAAAA,OAAO,CAACC,GAAD,EAAM;AACX,eAAOF,MAAM,CAACD,KAAP,CAAaG,GAAb,CAAP;AACD,OAHU;;AAIXC,MAAAA,MAAM,CAACD,GAAD,EAAM;AACV,YAAIF,MAAM,CAACI,QAAP,OAAsB,GAA1B,EAA+B;AAC7B,iBAAOF,GAAP;AACD;;AACD,YAAI,CAACF,MAAM,CAACK,YAAP,CAAoBH,GAApB,CAAL,EAA+B;AAC7B,gBAAM,IAAII,KAAJ,CAAW,qBAAqBN,MAAM,CAACI,QAAP,EAAmB,aAAaF,GAAG,CAACE,QAAJ,EAAgB,EAAhF,CAAN;AACD;;AACD,eAAO,IAAIX,kBAAkB,CAACc,GAAvB,CAA2BL,GAAG,CAACE,QAAJ,GAAeI,KAAf,CAAqBR,MAAM,CAACI,QAAP,GAAkBK,MAAvC,CAA3B,EAA2E,KAA3E,CAAP;AACD;;AAZU,KAAb;AAcD;;AAhBiE;;AAmBpElB,OAAO,CAACK,kBAAR,GAA6BA,kBAA7B","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar interfaceDatastore = require('interface-datastore');\nvar keytransform = require('./keytransform.js');\n\nclass NamespaceDatastore extends keytransform.KeyTransformDatastore {\n  constructor(child, prefix) {\n    super(child, {\n      convert(key) {\n        return prefix.child(key);\n      },\n      invert(key) {\n        if (prefix.toString() === '/') {\n          return key;\n        }\n        if (!prefix.isAncestorOf(key)) {\n          throw new Error(`Expected prefix: (${ prefix.toString() }) in key: ${ key.toString() }`);\n        }\n        return new interfaceDatastore.Key(key.toString().slice(prefix.toString().length), false);\n      }\n    });\n  }\n}\n\nexports.NamespaceDatastore = NamespaceDatastore;\n"]},"metadata":{},"sourceType":"script"}