{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar parallelBatch = require('it-parallel-batch');\n\nvar options = require('./options.js');\n\nvar index = require('./dag-builder/index.js');\n\nvar treeBuilder = require('./tree-builder.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar parallelBatch__default = /*#__PURE__*/_interopDefaultLegacy(parallelBatch);\n\nasync function* importer(source, blockstore) {\n  let options$1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const opts = options(options$1);\n  let dagBuilder;\n\n  if (typeof options$1.dagBuilder === 'function') {\n    dagBuilder = options$1.dagBuilder;\n  } else {\n    dagBuilder = index;\n  }\n\n  let treeBuilder$1;\n\n  if (typeof options$1.treeBuilder === 'function') {\n    treeBuilder$1 = options$1.treeBuilder;\n  } else {\n    treeBuilder$1 = treeBuilder;\n  }\n\n  let candidates;\n\n  if (Symbol.asyncIterator in source || Symbol.iterator in source) {\n    candidates = source;\n  } else {\n    candidates = [source];\n  }\n\n  for await (const entry of treeBuilder$1(parallelBatch__default['default'](dagBuilder(candidates, blockstore, opts), opts.fileImportConcurrency), blockstore, opts)) {\n    yield {\n      cid: entry.cid,\n      path: entry.path,\n      unixfs: entry.unixfs,\n      size: entry.size\n    };\n  }\n}\n\nexports.importer = importer;","map":{"version":3,"sources":["/Users/emilsharafutdinov/Desktop/Work/SR3/Wrdl3/client/node_modules/ipfs-unixfs-importer/cjs/src/index.js"],"names":["Object","defineProperty","exports","value","parallelBatch","require","options","index","treeBuilder","_interopDefaultLegacy","e","parallelBatch__default","importer","source","blockstore","options$1","opts","dagBuilder","treeBuilder$1","candidates","Symbol","asyncIterator","iterator","entry","fileImportConcurrency","cid","path","unixfs","size"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AAEA,IAAIC,aAAa,GAAGC,OAAO,CAAC,mBAAD,CAA3B;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,cAAD,CAArB;;AACA,IAAIE,KAAK,GAAGF,OAAO,CAAC,wBAAD,CAAnB;;AACA,IAAIG,WAAW,GAAGH,OAAO,CAAC,mBAAD,CAAzB;;AAEA,SAASI,qBAAT,CAAgCC,CAAhC,EAAmC;AAAE,SAAOA,CAAC,IAAI,OAAOA,CAAP,KAAa,QAAlB,IAA8B,aAAaA,CAA3C,GAA+CA,CAA/C,GAAmD;AAAE,eAAWA;AAAb,GAA1D;AAA6E;;AAElH,IAAIC,sBAAsB,GAAG,aAAaF,qBAAqB,CAACL,aAAD,CAA/D;;AAEA,gBAAgBQ,QAAhB,CAAyBC,MAAzB,EAAiCC,UAAjC,EAA6D;AAAA,MAAhBC,SAAgB,uEAAJ,EAAI;AAC3D,QAAMC,IAAI,GAAGV,OAAO,CAACS,SAAD,CAApB;AACA,MAAIE,UAAJ;;AACA,MAAI,OAAOF,SAAS,CAACE,UAAjB,KAAgC,UAApC,EAAgD;AAC9CA,IAAAA,UAAU,GAAGF,SAAS,CAACE,UAAvB;AACD,GAFD,MAEO;AACLA,IAAAA,UAAU,GAAGV,KAAb;AACD;;AACD,MAAIW,aAAJ;;AACA,MAAI,OAAOH,SAAS,CAACP,WAAjB,KAAiC,UAArC,EAAiD;AAC/CU,IAAAA,aAAa,GAAGH,SAAS,CAACP,WAA1B;AACD,GAFD,MAEO;AACLU,IAAAA,aAAa,GAAGV,WAAhB;AACD;;AACD,MAAIW,UAAJ;;AACA,MAAIC,MAAM,CAACC,aAAP,IAAwBR,MAAxB,IAAkCO,MAAM,CAACE,QAAP,IAAmBT,MAAzD,EAAiE;AAC/DM,IAAAA,UAAU,GAAGN,MAAb;AACD,GAFD,MAEO;AACLM,IAAAA,UAAU,GAAG,CAACN,MAAD,CAAb;AACD;;AACD,aAAW,MAAMU,KAAjB,IAA0BL,aAAa,CAACP,sBAAsB,CAAC,SAAD,CAAtB,CAAkCM,UAAU,CAACE,UAAD,EAAaL,UAAb,EAAyBE,IAAzB,CAA5C,EAA4EA,IAAI,CAACQ,qBAAjF,CAAD,EAA0GV,UAA1G,EAAsHE,IAAtH,CAAvC,EAAoK;AAClK,UAAM;AACJS,MAAAA,GAAG,EAAEF,KAAK,CAACE,GADP;AAEJC,MAAAA,IAAI,EAAEH,KAAK,CAACG,IAFR;AAGJC,MAAAA,MAAM,EAAEJ,KAAK,CAACI,MAHV;AAIJC,MAAAA,IAAI,EAAEL,KAAK,CAACK;AAJR,KAAN;AAMD;AACF;;AAED1B,OAAO,CAACU,QAAR,GAAmBA,QAAnB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar parallelBatch = require('it-parallel-batch');\nvar options = require('./options.js');\nvar index = require('./dag-builder/index.js');\nvar treeBuilder = require('./tree-builder.js');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar parallelBatch__default = /*#__PURE__*/_interopDefaultLegacy(parallelBatch);\n\nasync function* importer(source, blockstore, options$1 = {}) {\n  const opts = options(options$1);\n  let dagBuilder;\n  if (typeof options$1.dagBuilder === 'function') {\n    dagBuilder = options$1.dagBuilder;\n  } else {\n    dagBuilder = index;\n  }\n  let treeBuilder$1;\n  if (typeof options$1.treeBuilder === 'function') {\n    treeBuilder$1 = options$1.treeBuilder;\n  } else {\n    treeBuilder$1 = treeBuilder;\n  }\n  let candidates;\n  if (Symbol.asyncIterator in source || Symbol.iterator in source) {\n    candidates = source;\n  } else {\n    candidates = [source];\n  }\n  for await (const entry of treeBuilder$1(parallelBatch__default['default'](dagBuilder(candidates, blockstore, opts), opts.fileImportConcurrency), blockstore, opts)) {\n    yield {\n      cid: entry.cid,\n      path: entry.path,\n      unixfs: entry.unixfs,\n      size: entry.size\n    };\n  }\n}\n\nexports.importer = importer;\n"]},"metadata":{},"sourceType":"script"}