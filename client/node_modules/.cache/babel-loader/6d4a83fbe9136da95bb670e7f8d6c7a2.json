{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar interfaceDatastore = require('interface-datastore');\n\nvar sortKeys = require('sort-keys');\n\nvar toString = require('uint8arrays/to-string');\n\nvar fromString = require('uint8arrays/from-string');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar sortKeys__default = /*#__PURE__*/_interopDefaultLegacy(sortKeys);\n\nconst specKey = new interfaceDatastore.Key('datastore_spec');\n\nfunction spec(store) {\n  return {\n    exists() {\n      return store.has(specKey);\n    },\n\n    async get() {\n      const buf = await store.get(specKey);\n      return JSON.parse(toString.toString(buf));\n    },\n\n    async set(spec) {\n      return store.put(specKey, fromString.fromString(JSON.stringify(sortKeys__default[\"default\"](spec, {\n        deep: true\n      }))));\n    }\n\n  };\n}\n\nexports.spec = spec;","map":{"version":3,"sources":["/Users/emilsharafutdinov/Desktop/Work/SR3/Wrdl3/client/node_modules/ipfs-repo/cjs/src/spec.js"],"names":["Object","defineProperty","exports","value","interfaceDatastore","require","sortKeys","toString","fromString","_interopDefaultLegacy","e","sortKeys__default","specKey","Key","spec","store","exists","has","get","buf","JSON","parse","set","put","stringify","deep"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AAEA,IAAIC,kBAAkB,GAAGC,OAAO,CAAC,qBAAD,CAAhC;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,uBAAD,CAAtB;;AACA,IAAIG,UAAU,GAAGH,OAAO,CAAC,yBAAD,CAAxB;;AAEA,SAASI,qBAAT,CAAgCC,CAAhC,EAAmC;AAAE,SAAOA,CAAC,IAAI,OAAOA,CAAP,KAAa,QAAlB,IAA8B,aAAaA,CAA3C,GAA+CA,CAA/C,GAAmD;AAAE,eAAWA;AAAb,GAA1D;AAA6E;;AAElH,IAAIC,iBAAiB,GAAG,aAAaF,qBAAqB,CAACH,QAAD,CAA1D;;AAEA,MAAMM,OAAO,GAAG,IAAIR,kBAAkB,CAACS,GAAvB,CAA2B,gBAA3B,CAAhB;;AACA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AACnB,SAAO;AACLC,IAAAA,MAAM,GAAG;AACP,aAAOD,KAAK,CAACE,GAAN,CAAUL,OAAV,CAAP;AACD,KAHI;;AAIL,UAAMM,GAAN,GAAY;AACV,YAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACG,GAAN,CAAUN,OAAV,CAAlB;AACA,aAAOQ,IAAI,CAACC,KAAL,CAAWd,QAAQ,CAACA,QAAT,CAAkBY,GAAlB,CAAX,CAAP;AACD,KAPI;;AAQL,UAAMG,GAAN,CAAUR,IAAV,EAAgB;AACd,aAAOC,KAAK,CAACQ,GAAN,CAAUX,OAAV,EAAmBJ,UAAU,CAACA,UAAX,CAAsBY,IAAI,CAACI,SAAL,CAAeb,iBAAiB,CAAC,SAAD,CAAjB,CAA6BG,IAA7B,EAAmC;AAAEW,QAAAA,IAAI,EAAE;AAAR,OAAnC,CAAf,CAAtB,CAAnB,CAAP;AACD;;AAVI,GAAP;AAYD;;AAEDvB,OAAO,CAACY,IAAR,GAAeA,IAAf","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar interfaceDatastore = require('interface-datastore');\nvar sortKeys = require('sort-keys');\nvar toString = require('uint8arrays/to-string');\nvar fromString = require('uint8arrays/from-string');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar sortKeys__default = /*#__PURE__*/_interopDefaultLegacy(sortKeys);\n\nconst specKey = new interfaceDatastore.Key('datastore_spec');\nfunction spec(store) {\n  return {\n    exists() {\n      return store.has(specKey);\n    },\n    async get() {\n      const buf = await store.get(specKey);\n      return JSON.parse(toString.toString(buf));\n    },\n    async set(spec) {\n      return store.put(specKey, fromString.fromString(JSON.stringify(sortKeys__default[\"default\"](spec, { deep: true }))));\n    }\n  };\n}\n\nexports.spec = spec;\n"]},"metadata":{},"sourceType":"script"}