{"ast":null,"code":"'use strict';\n\nexports.getCallback = function (args, symbol, map) {\n  let callback = args[args.length - 1];\n\n  if (typeof callback !== 'function') {\n    const promise = new Promise((resolve, reject) => {\n      args.push(callback = function (err) {\n        for (var _len = arguments.length, results = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          results[_key - 1] = arguments[_key];\n        }\n\n        if (err) reject(err);else resolve(map ? map(...results) : results[0]);\n      });\n    });\n    callback[symbol] = promise;\n  }\n\n  return callback;\n};","map":{"version":3,"sources":["/Users/emilsharafutdinov/Desktop/Work/SR3/Wrdl3/client/node_modules/deferred-leveldown/util.js"],"names":["exports","getCallback","args","symbol","map","callback","length","promise","Promise","resolve","reject","push","err","results"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,WAAR,GAAsB,UAAUC,IAAV,EAAgBC,MAAhB,EAAwBC,GAAxB,EAA6B;AACjD,MAAIC,QAAQ,GAAGH,IAAI,CAACA,IAAI,CAACI,MAAL,GAAc,CAAf,CAAnB;;AAEA,MAAI,OAAOD,QAAP,KAAoB,UAAxB,EAAoC;AAClC,UAAME,OAAO,GAAG,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/CR,MAAAA,IAAI,CAACS,IAAL,CAAUN,QAAQ,GAAG,UAAUO,GAAV,EAA2B;AAAA,0CAATC,OAAS;AAATA,UAAAA,OAAS;AAAA;;AAC9C,YAAID,GAAJ,EAASF,MAAM,CAACE,GAAD,CAAN,CAAT,KACKH,OAAO,CAACL,GAAG,GAAGA,GAAG,CAAC,GAAGS,OAAJ,CAAN,GAAqBA,OAAO,CAAC,CAAD,CAAhC,CAAP;AACN,OAHD;AAID,KALe,CAAhB;AAOAR,IAAAA,QAAQ,CAACF,MAAD,CAAR,GAAmBI,OAAnB;AACD;;AAED,SAAOF,QAAP;AACD,CAfD","sourcesContent":["'use strict'\n\nexports.getCallback = function (args, symbol, map) {\n  let callback = args[args.length - 1]\n\n  if (typeof callback !== 'function') {\n    const promise = new Promise((resolve, reject) => {\n      args.push(callback = function (err, ...results) {\n        if (err) reject(err)\n        else resolve(map ? map(...results) : results[0])\n      })\n    })\n\n    callback[symbol] = promise\n  }\n\n  return callback\n}\n"]},"metadata":{},"sourceType":"script"}